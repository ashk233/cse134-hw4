<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Native Dialogs</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.min.js"></script>
  </head>
  <body>
    <h1>Native Dialogs</h1>
    <button id="alert">Alert</button>
    <button id="confirm">Confirm</button>
    <button id="prompt">Prompt</button>
    <button id="safer-prompt">Safer Prompt</button>
    <hr />
    <output id="output"></output>
    <script>
      document.getElementById("alert").addEventListener("click", () => {
        output.innerHTML = "";
        setTimeout(function () {
          alert("Alert pressed!");
        }, 0);
      });
      const output = document.getElementById("output");
      function confirmCheck() {
        output.innerHTML = "";
        setTimeout(function () {
          let confirmText = "Do you confirm this?";
          output.innerHTML =
            "The value returned by the confirm method is: " +
            confirm(confirmText);
        }, 0);
      }
      document
        .getElementById("confirm")
        .addEventListener("click", confirmCheck);
      document.getElementById("prompt").addEventListener("click", () => {
        output.innerHTML = "";
        setTimeout(function () {
          let input = prompt("What's your name?");
          if (input != null) {
            output.innerHTML = "Prompt result: " + input;
          } else {
            output.innerHTML = "User didn't enter anything.";
          }
        }, 0);
      });
      document.getElementById("safer-prompt").addEventListener("click", () => {
        output.innerHTML = "";
        setTimeout(function () {
          let input = prompt("What's your name?");
          let sanitized = DOMPurify.sanitize(input);
          if (input != null) {
            output.innerHTML = "Prompt result: " + sanitized;
          } else {
            output.innerHTML = "User didn't enter anything.";
          }
        }, 0);
      });
    </script>
  </body>
</html>
